<!DOCTYPE html>
<html lang="{{ site.language }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    {% include 'meta/seo-tags.html' %}
    {% include 'meta/social-meta.html' %}
    
    <!-- Title -->
    <title>{% if title %}{{ title }} | {% endif %}{{ site.name }}</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/style/bundle.css">
    <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">

    {% include 'meta/structured-data.html' %}
</head>

<body id="top">
    <!-- SVG Icon Library -->
    <svg width="0" height="0" aria-hidden="true" style="position: absolute;">
        <defs>
            <g id="icon-menu">
                <path d="M4 5h16"/>
                <path d="M4 12h16"/>
                <path d="M4 19h16"/>
            </g>
            <g id="icon-x">
                <path d="M18 6 6 18"/>
                <path d="m6 6 12 12"/>
            </g>
        </defs>
    </svg>

    {% include 'header.html' %}
    <main>
        {{ content }}
    </main>
    {% include 'footer.html' %}

    <!-- Flickity JavaScript -->
    <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
    <script>
        // Initialize Flickity carousel when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit for styles to load
            setTimeout(function() {
                var elem = document.querySelector('.carousel');
                console.log('Carousel element found:', elem);
                if (elem) {
                    var flkty = new Flickity(elem, {
                        wrapAround: true,
                        autoPlay: 3000,
                        pauseAutoPlayOnHover: false,
                        cellAlign: 'center',
                        contain: true
                    });
                    console.log('Flickity initialized:', flkty);
                } else {
                    console.log('Carousel element not found');
                }
            }, 100);
        });
    </script>

</body>

</html>